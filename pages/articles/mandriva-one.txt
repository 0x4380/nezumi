====== Mandriva One Spring 2007 — отдави пингвину лапы ======
<sub>{{mandriva-one.odt|Original file}}</sub>

крис касперски ака мыщъх

**Mandriva – ****это рыба. типа минтая. мороженного. или отмороженного? а, неважно! главное**** –**** это разновидность пингвина, которая рвется на российский рынок все чаще и чаще встречаясь на ноутбуках и десктопах, в связи с чем возникает вопрос — что это за птица такая и стоит ли ее выбирать? мыщъхЮ проигравшись с системой несколько дней (на самом деле, с учетом ковыряния в драйверах — гораздо больше), высказывает свое ХО по этой проблеме.**

{{INLINETOC}}
===== введение =====

Тестированием различных дистрибутивов Linux'а мыщъх занимается регулярно, покупая их в Интернет-магизанах за свои кровные. А тут предложили разгрызть Mandriva One Spring 2007/Flash, бесплатно прислав две желтых коробки от Linux-центра в одной из которых обнаружилась три диска (два — CD, один — DVD), в другой — Flash-накопитель со шнурком, похожим на удавку. Типа, не убьемся о монитор, так хоть повесимся. Не, не будем мы вешаться. Холодный труп, свисающий с потолка – не самое эстетичное зрелище. Хотя по этому поводу имеются разные мнения.

Писать о дистрибутивах всегда сложно и еще сложнее писать объективно, особенно если дистрибутив рассчитан совсем на другуювесовую категорию. И хотя Mandriva позиционируется как хакерская ось ("//Это неоценимый подарок и для Вашего знакомого хакера, которого от Linux за уши не оттащить. С Mandriva Flash, он снова может выйти наружу без страха потерять свое сокровищще! С персональным драйвом в кармане уже ничто не остановит его, нападающего на Windows-десктопы и со сверкающими глазами загружающего на них Linux!//" — цитата с официального сайта), никаким хакерством тут даже не пахнет. Среды разработки отсутствуют. Полностью. Нет ни gcc, ни исходных текстов, ни… даже man'ов! Для них, видите ли, не нашлось места и они есть на DVD-версии, но DVD — это уже через чур. Все-таки как никак 4.7 Гбайт, и в этих гигабайтах хакерских утилит (сканеров, снифферов) нет _вообще_, как нету ассемблеров, дисковых редакторов, и т. д., и т. п.

А ведь курение man'ов и ручная сборка программ — это даже не хакерство, а нормальный стиль общения с Linux, которым должен владеть всякий продвинутый пользователь, иначе он быстро потеряет к Linux'у всякий интерес и вернется назад в Windows. Мужики! – (это я к разработчикам), —давайте говорить честно! MandrivaFlash – десктопный дистрибутив для законченных пользователей, желающих попонтоваться перед приятелями-виндузятниками как круто они грузят Linux и какой у него крутой десктоп.

Естественно, все необходимые компоненты можно поставить и самостоятельно, но… смысл?! Для этого уже необходимо уметь работать с Linux'ом, а если мы все это умеем, то проще использовать Slackware (где все делается руками), Gentoo (компилирующий систему при установке) или Debian (классических вариант).

Поэтому, мы будем рассматривать обозначенный Mandriv'у исключительно с точки зрения неподготовленного пользователя, действующего по принципу: "не работает, ну и хрен мне с ним разбираться". Собственно говоря, по другому и не получится. Разработчики Mandriv'ы сделали все, чтобы пользователь не мог вмешиваться в процесс установки, до предела автоматизировав загрузку системы и написав кучу своих собственных врапперов и визардов для настройки железа.

{{mandriva-one_Image_0.png}}

**Рисунок 1 внешний вид рабочего стола Mandriva One**

===== что в линухе твоем =====

На любом никосвом форуме без труда можно найти ветвь, где новички спрашивают какой дистрибутив выбрать и… начинается флейм, а-ля Linux wars. Сравнивания один дистрибутив с другим, мы должны отдавать себе отчет в том, что Linux – это прежде всего ядро. Именно ядро отличает Linux от всех остальных систем. Большинство программ, входящих в Linux-дистрибутивы, не имеют к Linux'у никакого отношения и берутся из открытых проектом типа GNU. На xBSD стоит тот же самый GCC, KDE, Open Office, Fire Fox, взятый оттуда же. А если что-то не стоит, то это можно взять и поставить самостоятельно. Никто же ведь не запрещает!

{{mandriva-one_Image_1.png}}

**Рисунок 2 www.kernel.org – загрузи ядро любой версии!**

Linux, в отличии от Windows – это конструктор. Собирай, что хочешь. Хоть самолет, хоть вертолет, хоть паровоз. Дистрибутив, фактически, представляет собой начальный набор программ, устанавливаемых вместе с системой. Бесплатность свободного ПО позволяет запихивать в одну коробку сотни (и даже тысячи!) пакетов, не сильно интересуясь — а будут ли они нужны конечному пользователю. Да какая нам разница?! На стоимость продукта это все равно не влияет, разве что увеличивает количество CD/DVD в упаковке.

Продвинутые дистрибутивы типа Федоры предлагают несколько вариантов установки: офис, машина для девелопера, сервер и т. д., в соответствии с которыми определяется набор устанавливаемых программ. Причем, опытные пользователи не очень-то любят многодисковые дистрибутивы, предпочитая устанавливать необходимые программы самостоятельно.

Но, как бы там ни было, ругать дистрибутив за отсутствие каких-то конкретных пакетов – смешно. Где вы видели пользователей, довольствующихся теми и только теми программами, которые идут вместе с Windows?! Зато в мире Linux это вполне типичная ситуация… С другой стороны, если дистрибутив X включает только 10% нужных нам программ и занимает три диска, а дистрибутив Y на одном диске уместил 90%, то, очевидно, лучше брать Y, чтобы потом не парится со скачкой программ (а трафик, между прочим, денег стоит) и не возится с их компиляцией.

Человек, только начинающий знакомится с Linux'ом, не имеет никаких представлений ни о том где брать драйвера (ну, или в терминологии Linux'а — загружаемые модули ядра), ни о том как их компилировать. Он теряется при виде командой строки, а огромные конфигурационные файлы наводят на него тоску, постепенно переходящую в ужас. Желание поставить систему на "автопилоте", чтобы потом постепенно с ней разбираться — вполне оправданно и понятно. А потому, если дистрибутив включает в себя драйвера на всевозможные устройства и не задает пользователю никаких технически сложных вопросов — это можно только приветствовать. Во всяком случае на ранних этапах знакомства с системой. Дистрибутив для новичков должен включать в себя продвинутый автоматический инсталлятор, поскольку, если дистрибутив не может чего-то там определить или вываливается при установке в командную строку — он отправляется в топку, уступая место более дружелюбному дистрибутиву.

К тому же, дистрибутив — это все-таки чуточку больше, чем просто куча неуправляемых программ. Как минимум, это еще и поддержка, и менеджер пакетов, и репозитарий, и другие "фирменные" фишки, специфичные для каждого конкретного дистрибутива. Что такое репозитарий? Если совсем на пальцах, то это хранилище программ, написанных в большинстве своем сторонними разработчиками, но адоптированных производителем дистрибутива под его менеджер пакетов, автоматически скачивающий программу из репозитария и устанавливающей ее в систему без танцев с бубном вокруг компилятора.

Естественно, чем больше репозитарий у производителя дистрибутива — тем лучше. Самый большой — у Debian (около 10.500 пакетов), следом за ним с небольшим отрывом идет Mandriva (~8.500 пакетов). Fedora Core, SUSE, Ubuntu содержат менее 5.000 пакетов каждый. Это так — чисто для сравнения. Репозитарий хорошо подходит для новичков, но девелоперы и продвинутые хакеры предпочитают собирать программы самостоятельно, обращаясь к их непосредственным разработчикам и зачастую внося в них существенные изменения (например, фикся баги). К тому же в репозитарии хрен найдешь свежие альфа и беты, а стабильные версии у многих программных пакетов не обновляются годами!

Так что, если мы берем систему для хакерства и экспериментов, то дистрибутив как минимум должен включать в себя средства разработки, позволяющие собирать программы самостоятельно. Если же Linux нужен нам для работы и ковыряться в нем мы все равно не собираемся — берем дистрибутив с самым большим репозитарием, включающим в себя не только свободные, но и несвободные программы. Хотя самый большой репозитарией у Debian, несвободные программы в нем отсутствуют (как и множество свободных, но не отвечающим философии/требованиям качества Debian).

Mandriva не столь щепетильна и потому включает в себя не только несвободные программы, распространяющиеся в виде бинарных модулей без исходных текстов (например, драйвера для видео-карт ATI и NVIDIA), но и программы, работающие с поприетарными форматами данных и требующие лицензионных отчислений (например, кодек MP3). Естественно, все это (и MP3, и драйвера) можно поставить и на Debian или же выбрать производный от него дистрибутив (типа KNOPPIX), умеющий работать с его репозитарием и включающий в себя несвободные программы, однако, обновлять несвободные программы и/или накладывать на них патчи в этом случае придется вручную, а в Mandriv'е все это сделано за нас!

===== Mandriva на EPOX'е =====

Берем машину с материнской платой от EPOX на базе чипсета Intel 915P/ICH6, оснащенную RAID-контроллером от ITE и видео-картой от NVIDIA.Не самое свежее железо, которому уже больше трех лет, зато брендовое и по идее всякая нормальная система должна его поддерживать. Посмотрим, как с этим справится Mandriva.

Вставляем FLASH-брелокс Mandriv'ойв свободный слот и перезагружаемся (предварительно убедившись, что в BIOS разрешена загрузка с USB). Ага, ядро у нас 2.6.17, стало быть, грузиться будет медленно, но это ладно, нам не привыкать. Могли бы ради приличия приложить и ядро 2.4, но его, увы, нет.

Тем временем загрузчик переходит в графический режим и монитор погасает, ругаясь, что сигнала нет. Косяк, однако!!! Вырубаем питание, перетыкаем разъем с цифрового на аналоговый и пытается повторить загрузку. Ну, вот сейчас экран уже не гаснет, а послушно переходит в графический режим, выполненный в аляповатом стиле a-la "начинающий дизайнер дорвался до фотошопа". Ситуация с аналоговым выходом совершенно неясная, но мы же договорились, что не будем рыть вглубь и вылавливать багов в дефлотном VGA-драйвере. Грузимся дальше.

Грузимся, себе, значит, и… без всяких ошибок выпадаем из графического режима в консоль, где нас просят ввести… хм, логин. Ждем <ENTER> (чисто ради интереса). Ага, облом-с! Пишем "root" (если, конечно, знаем кто это такой). ОК, пароль не требуется и мы оказываемся в нормальном shell'е, где можно давать команды типа "ls" и даже — о чудо — mc! Экран вспыхивает парой голубых панелей. Красиво, но… скучно немного. Рыся (это браузер такой текстовой) у нас нет, gcc — отсутствует (gcc есть только в DVD-версии). В общем, дальше оставаться в текстовом режиме просто бессмысленно.

Пишем заветную команду "startx" и получаем длинную простыню ругательств размером экранов на паять. Замечательно! И как начинающему пользователю предполагается в этом разбираться?! Ради эксперимента жмем на <RESET> и при следующей загрузке ловим кучу ошибок, а все потому что "забыли" дать команду "shutdown". Но ведь пользователь, не знакомый в системой, быстрее нажмет на <RESET>, чем догадается как правильно отмонировать флешку, тем более, что man'ов на флешке нет… Короче, флешка идет лесом.

Открываем другую желтую коробку, достаем Live CD, вставляем его в привод и грузимся. На этот раз загрузка проходит успешно. Сначала на экране появляется огромный логотип от NVIDIA, подтверждающий, что видео-карта распознана корректно, после чего стартуют X'ы с KDE 3.5, предлагающие задействовать трехмерный рабочий стол, который по замыслу создателей Mandriv'ы должен очень впечатлить ("//Замечательно! Metisse — прогрессивный десктоп нового поколения, обладающий новыми функциями, меняющими наши представления о десктопе. Это больше, чем 3D-десктоп — это уже на шаг дальше//" — цитата с сайта). Мыщъх попробовал. Не впечатлило. Дизайнерские изыски в виде тошнотворной розовой гаммы больше подходящей для поздней осени, чем для ранней весны, конкретно напрягают глаза, вызывая ностальгию по Windows 95/98/2000, где дефтолная гамма рабочего стола действительно выбрана с умом и даже если она кому-то не сильно нравится, с ней можно реально _работать_ не бросаясь к панели управления, чтобы тут же сменить ее на что-то менее "новаторское".

{{mandriva-one_Image_2.png}}

**Рисунок 3 KDE 3.5 загружается…**

Но это все мелочи. Звук есть, окна открываются, ресайзятся и перетаскиваются с кучей спецэффектов, по сравнению с которыми Висла выглядит серьезной бизнес-системой. А тут… ну просто детский сад какой-то. Ладно, мощности Pentium-4/3.2 GHz/1 Гбайт RAM вроде бы хватает, так что не будем жаловаться. Смотрим, что у нас с оборудованием.

Б#z!RAIID-контроллер от ITE, SATA-диски от Seagate, чипсетный гигабитный езернет как буем слизало! Из всего ввода/вывода у нас есть только флоп. Нету даже DVD с которого мы грузились и который все еще продолжает работать. Черт с ней с сетью — сеть натянуть несложно — достаточно воткнуть дешевую карточку в PCI. А вот отсутствие жестких дисков с жизнью уже не совместимо. Даже на Live CD. Там же все данные. С которыми предполагается работать. Технически, можно обмениваться данными и через флешку, но это ж такие напряги…

Запускам Open Office. Версия 2.1. Что ж, не такая и старая (хотя уже давно вышла 2.3). Можно даже открывать документы, редактировать их и сохранять на флешку. Или на дискету. Только ведь это и в MS Office можно делать. Или в порте Open Office под Windows. Стоило из-за этого покупать себе Linux?

{{mandriva-one_Image_3.png}}

**Рисунок 4 Open Office 2.1**

===== Mandriva на VM Ware =====

Возвращаемся назад к основной мыщъхиной машине, в которой поверх Windows 2000 натянута древняя VM Ware 4.5, где установлено больше десятка различных осей, работающих под управлением Pentium-III/733 MHz/512 Мбайт RAM. И ведь этих скромных мощностей хватает, чтобы _реально_ работать с FreeBSD и Debian'ом. "Работать" — это значит проводить в них значительную часть мыщъх'иного времени. Экспериментировать с системой, собирать чужие программы и писать свои собственные, дебажа их в gdb. И ведь не тормозит же! Даже из-под слегка покоцанного KDE, не говоря уже о чистой командной строке, в которой все просто летает. Посмотрим как поведет себя Mandriva.

{{mandriva-one_Image_4.png}}

**Рисунок 5 неторопливая загрузка 2.6 ядра**

Вставляем Live CD в старенький ASUS CD-RW и по характерной вибрации стола чувствуем, что нам подсунули брачок. Сначала привод идет на разгон, а когда от вибраций начинает подпрыгивать клавиатура и мышь, сбрасывает обороты, но все равно продолжает хрипеть. Можно, конечно, скопировать образ на HDD и смонтировать его как виртуальный диск, но это будет уже не совсем честный эксперимент, поэтому продолжаем загружаться с диска как пионеры. А загружается он долго. Очень долго. Больше пяти минут! А вот KNOPPIX с ядром 2.4 в тех же условиях требует не больше минуты. Ну да кому сейчас нужно это морально устаревшее ядро, не поддерживающее нового железа? Короче, грузимся дальше.

Вот, наконец, заветный "апельсиновый" экран. Правда, стартовая страница в браузере не отображается, поскольку не успевает считаться с диска за отведенное время и браузер дает отбой. Несколько раз жмем <F5> (обновить). Дисковерт хрипит изо всех сил, но страница все равно не отображается. О слабых машинах, значит, не думаем, тестируем только на мощном железе? Ну-ну…

{{mandriva-one_Image_5.png}}

**Рисунок 6 стартовая страница под виртуальной машиной "обивается" прежде, чем успевает загрузиться**

Виртуальная сетевая карта опозналась — это хорошо. Но сети у нас нет и соответствующая иконка в правом нижнем углу экрана помечена красным значком — это плохо. Ну да где наша не пропадала! Щелкаем по сети правым мышем, вызывая контекстное меню, где видим пункт "настроить сеть", который и выбираем. После чего пьем чай, поскольку мастер по настройке загружается несколько минут. Да за этого время можно было вручную через командную строку раз десять настроить!!! Но мы же договорились, что мы ламеры мастдайные и все делаем только через гуи.

{{mandriva-one_Image_6.png}}

**Рисунок 7 мастер настройки сети**

ОК, значит, гуи. Мастер как мастер. Вполне себе адекватный. Выбираем автоматическую настройку сети. Нас поздравляют, предлагая перезапустить систему, чтобы не было проблем с X'ми и KDE, но мы перезагружаться не будем, потому что настройки сети хранятся в памяти и при следующей загрузке с Live CD всю процедуру придется повторять заново. Между тем, сеть как лежала так и лежит. После тяжелого вздоха вызываем мастера еще раз, присваивая IP-адрес вручную. Только IP-адрес. Поля маски подсети, первого и второго DNS-серверов можно оставить пустыми, поскольку выходить в Интернет мыщъх планирует через Proxy, а он доменные имена определяет и сам…

{{mandriva-one_Image_7.png}}

**Рисунок 8 "поздравление" от мастера настройки сети. а сети-то и нет!**

Ура!!! У нас получилось!!! Красный крестик исчез!!! Мы подключились к сети!!! Какая радость!!!! Между прочим, KNOPPIX (да и другие дистрибутивы) становились без всякого шаманства, поскольку DHCP сервер в виртуальной сети есть и IP-адреса он раздает на халяву. Впрочем, процедура настойки сети в Mandriv'е достаточно прозрачна и всякий, кто поднимал сеть под Windows, поднимает ее и под Mandriv'ой. Это, в общем-то, мелочи.

{{mandriva-one_Image_8.png}}

**Рисунок 9 ура!!! сеть определилась!!!**

А теперь смертельный номер! Запускам Open Office. На виртуальной машине. Со 128 Мегабайтами памяти (при минимальной заявленной конфигурации в 256 Мбайт). Запускаем и… смело идем спать, поскольку запускаться он будет отвратительно долго. Во всяком случае, мыщъх успел ответить на десяток писем, поболтать по телефону со своей пассией, поужинать, искупаться… Короче, не прошло и часа как Open Office был загружен. Производительность просто ошеломляющая!

Короче, под виртуалкой на слабой машине, не то что работать, даже побаловаться с Mandriv'ой невозможно. Ну на то она и виртуалка. Mandriva рассчитана на живое железо и мощные современные машины. Open Office и на KNOPPIX'е тормозит порядочно, так что в этом плане никаких претензий к Mandriv'е у мыщъх'а нет.

===== за что любят Mandriv'у\\ (вместо заключения) =====

Может создаться впечатление, что мыщъх во всю критикует Madriv'у и страшно недоволен этим довольно популярным дистрибутивом. Вовсе нет! Mandriva действительно часто предустанавливается на ноутбуках и десктопных компьютерах и в этом есть свой резон.

Она "переваривает" огромное количество языков и ее русификация выполнена вполне корректно, а для рядового пользователя, знающего английский на уровне "fuck you", это огромный плюс.

По количеству поддерживаемого железа с ней может сравниться разве, что Ubuntu (правда, сравнение будет не в пользу Mandriv'ы). Хотя, это смотря какое железо сравнивать! В частности, FreeBSD знает кучу сетевых карт и RAID-контроллерах, о которых ни Madriva, ни Ubuntu вообще не имеют никакого представления, однако, со звуком и видео ситуация совершенно обратная и тут Madriva с Ubuntu резко вырываются вперед. Ну это и понятно. FreeBSD – серьезная серверная система, ориентированная на работу и на десктоп ее может ставить только тот, кого она реально прет (а как известно, переть может даже укроп, главное, чтобы человек хорошим был).

Впрочем, если сначала выбирать дистрибутив (в данном случае Mandriv'у), а уже потом затариваться железом, всегда можно зайти на базу данных совместимости (http://www.mandriva.com/hardware), чтобы выбрать оборудование, которое заведомо поддерживается. Именно так поступают сборщики компьютеров, ставящие Mandriv'у вместо Windows и потому и них, как правило, все отлично работает.

Автоматическое определение железа упрощает процедуру установки система до предела, требуя минимум ручной настройки, что так же привлекает начинающих пользователей, а защита установки от вмешательства отвращает опытных хакеров, поскольку, противоречит духу Linux'а и приближает Mandriv'у к Windows. То есть — если появились проблемы, в нормальном Linux'е мы курим man и рулим, а в Mandriv'е начинаем прыгать с бубном.


